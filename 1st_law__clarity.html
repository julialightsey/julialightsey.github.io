<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>[th&#601;_her&#601;tik]</title>
		<link rel="shortcut icon" href="./source/image/chamomile.ico" />
		<link rel="stylesheet" type="text/css" href="./source/common.css" />
	</head>
	<body id="top">
		<table style="border-collapse: collapse; margin-top:0px; width:100%" >
			<tr>
				<td style="padding-left:25px; padding-right:25px;">
					<table class="header">
						<tr>
							<td >
								<iframe src="./header.html" style="border-collapse: collapse; width:100%; overflow:hidden; border:0; margin:0 auto; display:block;" height="325" ></iframe>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
		<table style="border-collapse: collapse;  margin-bottom:0px; margin-top:-25px; width:100%" >
			<tr>
				<td style="padding-left:25px; padding-right:25px;">
					<table class="content">
						<tr>
							<td class="content">
								<iframe src="./menu__home.html" style="border-collapse: collapse; width:100%; overflow:hidden; border:0;" height="50" ></iframe>
							</td>
						</tr>
						<tr>
							<td class="content">
								<iframe src="./menu__laws_of_software_design.html" style="border-collapse: collapse; width:100%; overflow:hidden;  border:0;" height="75" ></iframe>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
		<table style="border-collapse: collapse;  margin-top:0px; margin-top:-15px; width:100%" >
		<tr>
			<td style="padding-left:25px; padding-right:25px;">
				<!--  -->
				<!-- begin content table -->
				<table class="content">
					<tr>
						<td>
							<img style="float:right; padding-left:35px; width:450px;" src="./source/image/clockwork.jpg" alt="clockwork" />
							<h3>[1st_law__clarity]</h3>
							<p class="navigation"><a href="#top">back to top...</a></p>
							<p class="content" style="text-align:center;">Well written software can be re-factored, poorly written software can only be tolerated.</p>
							<p class="quote">Clarity comes with simplicity. Brendon Burchard.</p>
							<p class="content">Well written software in a properly designed architecture with thorough tests can be re-factored for performance, its utility expanded and extended, and will continue to be used over many generations of implementations continuously improving its return on investment.</p>
							<p class="quote">Art is anything you can do well. Anything you can do with Quality. Robert M. Pirsig.</p>
							<p class="content">Poorly written software lacking in design and tests will rarely be re-factored, expanded or extended and will continue to demand increasing levels of support while being limited to its original vision or less, continuously costing additional time and money for ever decreasing utility.</p>
							<p class="quote">It is the little, pathetic attempts at Quality that kill. Robert M. Pirsig, Zen and the Art of Motorcycle Maintenance.</p>
							<p class="content">I have encountered numerous examples of poorly written code in my career, but very few that are truly well written. It is my contention that we should expect no less quality from a software developer than we do a plumber.</p>
							<p class="content">I neither design objects nor do I write software that are intended to be enshrined on the bosom of infamy. I write software that is intended to be refactored! I assume going into a design or build that someone will have to come after me and extend, improve, update, or otherwise modify that object. For this reason I try to be as clear as possible in my use of alias names, formatting, etc. I try to build things in 'groups' that are logical, often using what might seem to be spurious begin/end constructs to separate out a block of code as being a 'unit'. I avoid obvious comments such as '--parameter list', but try to place strategic guideposts in code that helps the reader understand what each section is doing. Long or complex merge statements or common table expressions are an example of where I might place documentation at the breaks between statements in a cte chain or in the clauses of a merge statement. I use this 'dead' documentation sparingly (see the Sixth Law). It is not intended to describe the business functionality of the object, only to guide the developer who comes after me (or me, after a few hours or days!).</p>
							<p class="content">I do not design for the lowest common denominator. Well written software is a statement that is meaningful only to a skilled and experienced engineer, developer, or dba. I will make no excuses for using sophisticated constructs that are in common usage or are needed to abstract complexity away from the public interface. I will make no excuses for fully exercising the methods and capabilities of the platform and language (SQL Server and Transact SQL) to their fullest. Designing and building objects for ignorance is not nor should it be considered to be a result of this law. NASA engineers didn't design the space shuttle so Gomer Pyle could work on them. They used the complexity necessary. Even then, by ignoring basic engineering practices they caused the death of the Challenger crew. (See the Third Law and the Eighth Law). Simultaneously, and with reference to the Eighth Law below, I often refuse to build in performance enhancements or constructs which might be more optimal. Once it meets the existing business objectives I am done. Future requirements can be met in the future, when they are defined.</p>
							<p class="content">Were you to hire a plumber to fix a leak under the sink, and after the job was complete found muddy footprints in your kitchen, blobs of solder splattered all over the bottom of the sink cabinet, and poorly soldered joints, you would be unhappy with the work. If the plumber stated simply that your floor and sink cabinet was already dirty and the existing pipes were soldered poorly so he saw no need to do any different, you would be incensed.</p>
							<p class="quote">The quality, not the longevity, of one&#39;s life is what is important. Martin Luther King, Jr.</p>
							<p class="content">From almost every profession in existence we expect the craftsman to leave the object on which he worked in better shape than he found it. When a cobbler resoles your shoes he cleans and buffs them before returning them. When an auto shop repairs your car they will often wash and vacuum the car prior to returning it.</p>
							<p class="content">Seinfeld actually had an episode to this effect. 
								<a href="http://www.imdb.com/title/tt0697778/" target="blank">The Smelly Car</a> episode focused on how upset Jerry was that his car was returned from the auto shop with a foul smell in it.
							</p>
							<p class="content">Software engineers and developers should be no different. When we touch something we should improve it if only in small ways. Simple 
								<a href="https://en.wikipedia.org/wiki/Code_refactoring" target="blank">code refactoring</a> such as this is easy if it is your intention to do a good job. If that is not your intention then you shouldn&#39;t be working on that code to begin with.
							</p>
							<p class="quote">I respect only those who resist me, but I cannot tolerate them. Charles de Gaulle.</p>
							<p class="content">One of the core tenets of software design is that of using 
								<a href="https://en.wikipedia.org/wiki/Loose_coupling" target="blank">loosely coupled interfaces</a>, avoiding a 
								<a href="https://en.wikipedia.org/wiki/Software_brittleness" target="blank">brittle</a> design by doing so. Yet most implemented software uses no techniques by which to achieve this simple and commonly known objective. (todo: expand)
							</p>
						</td>
					</tr>
				</table>
				<table class="content">
					<tr>
						<td>
							<div><span style="font-family: Courier New; font-size: 10pt;">
								<span style="color: green; font-style: italic; ">/*
								<br/>&nbsp;&nbsp;All&nbsp;content&nbsp;is&nbsp;licensed&nbsp;as&nbsp;[chamomile]&nbsp;(http://www.KELightsey.com/license.html)&nbsp;and&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;Katherine&nbsp;Elizabeth&nbsp;Lightsey,&nbsp;1959-2014&nbsp;(aka;&nbsp;my&nbsp;life),&nbsp;all&nbsp;rights&nbsp;reserved,
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;as&nbsp;open&nbsp;source&nbsp;under&nbsp;the&nbsp;GNU&nbsp;Affero&nbsp;GPL&nbsp;(http://www.gnu.org/licenses/agpl-3.0.html).
								<br/>&nbsp;&nbsp;---------------------------------------------
								<br/>
								<br/>&nbsp;&nbsp;--
								<br/>&nbsp;&nbsp;--&nbsp;&nbsp;description
								<br/>&nbsp;&nbsp;---------------------------------------------
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;[1st_law]&nbsp;-&nbsp;Well&nbsp;written&nbsp;software&nbsp;can&nbsp;be&nbsp;re-factored,&nbsp;poorly&nbsp;written&nbsp;software&nbsp;can&nbsp;only&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;tolerated.&nbsp;Well&nbsp;written&nbsp;software&nbsp;in&nbsp;a&nbsp;properly&nbsp;designed&nbsp;architecture&nbsp;with&nbsp;thorough&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tests&nbsp;can&nbsp;be&nbsp;re-factored&nbsp;for&nbsp;performance,&nbsp;its&nbsp;utility&nbsp;expanded&nbsp;and&nbsp;extended,&nbsp;and&nbsp;will&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue&nbsp;to&nbsp;be&nbsp;used&nbsp;over&nbsp;many&nbsp;generations&nbsp;of&nbsp;implementations&nbsp;continuously&nbsp;improving&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;its&nbsp;return&nbsp;on&nbsp;investment.
								<br/>&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;quality,&nbsp;not&nbsp;the&nbsp;longevity,&nbsp;of&nbsp;one's&nbsp;life&nbsp;is&nbsp;what&nbsp;is&nbsp;important.&nbsp;Martin&nbsp;Luther&nbsp;King,&nbsp;Jr.
								<br/>&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;Poorly&nbsp;written&nbsp;software&nbsp;lacking&nbsp;in&nbsp;design&nbsp;and&nbsp;tests&nbsp;will&nbsp;never&nbsp;be&nbsp;re-factored,&nbsp;expanded&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;extended&nbsp;and&nbsp;will&nbsp;continue&nbsp;to&nbsp;demand&nbsp;increasing&nbsp;levels&nbsp;of&nbsp;support&nbsp;while&nbsp;being&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limited&nbsp;to&nbsp;its&nbsp;original&nbsp;vision&nbsp;or&nbsp;less,&nbsp;continuously&nbsp;costing&nbsp;additional&nbsp;time&nbsp;and&nbsp;money&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;ever&nbsp;decreasing&nbsp;utility.
								<br/>&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;little,&nbsp;pathetic&nbsp;attempts&nbsp;at&nbsp;Quality&nbsp;that&nbsp;kill.&nbsp;Robert&nbsp;M.&nbsp;Pirsig,&nbsp;Zen&nbsp;and&nbsp;the&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Art&nbsp;of&nbsp;Motorcycle&nbsp;Maintenance.
								<br/>
								<br/>&nbsp;&nbsp;--
								<br/>&nbsp;&nbsp;--&nbsp;&nbsp;notes
								<br/>&nbsp;&nbsp;---------------------------------------------
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;presentation&nbsp;is&nbsp;designed&nbsp;to&nbsp;be&nbsp;run&nbsp;incrementally&nbsp;a&nbsp;code&nbsp;block&nbsp;at&nbsp;a&nbsp;time.&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;blocks&nbsp;are&nbsp;delineated&nbsp;as:
								<br/>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;--
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;code&nbsp;block&nbsp;begin
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;-----------------------------------------
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<run&nbsp;code&nbsp;here>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;-----------------------------------------
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;code&nbsp;block&nbsp;end
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;--
								<br/>&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;--
								<br/>&nbsp;&nbsp;--&nbsp;references
								<br/>&nbsp;&nbsp;---------------------------------------------
								<br/>*/</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&nbsp;code&nbsp;block&nbsp;begin</span>
								<br/><span style="color: blue; ">use</span>&nbsp;<span style="color: maroon; ">[chamomile]</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: blue; ">if</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">schema_id</span><span style="color: maroon; ">(</span><span style="color: red; ">N'presentation'</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">is</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: blue; ">execute</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: red; ">N'create&nbsp;schema&nbsp;presentation'</span><span style="color: maroon; ">)</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: green; font-style: italic; ">/*&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;ugly&nbsp;code&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;results&nbsp;in&nbsp;a&nbsp;massively&nbsp;complex&nbsp;query&nbsp;for&nbsp;a&nbsp;simple&nbsp;operation.&nbsp;
								<br/>&nbsp;&nbsp;42&nbsp;lines&nbsp;required&nbsp;to&nbsp;select&nbsp;the&nbsp;data&nbsp;
								<br/>&nbsp;&nbsp;business&nbsp;logic&nbsp;is&nbsp;completely&nbsp;obscured&nbsp;by&nbsp;data&nbsp;scrubbing&nbsp;operation&nbsp;
								<br/>*/</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: blue; ">if</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">object_id</span><span style="color: maroon; ">(</span><span style="color: red; ">N'[presentation].[test_without_constraints]'</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">is</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: blue; ">drop</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">create</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span>&nbsp;<span style="color: maroon; ">(</span>
								<br/>&nbsp;&nbsp;<span style="color: maroon; ">[id]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[int]</span>&nbsp;<span style="color: blue; ">identity</span><span style="color: maroon; ">(</span><span style="color: black; ">1</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">1</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_without_constraints.id.primary_key.clustered]</span>&nbsp;<span style="color: blue; ">primary</span>&nbsp;<span style="color: blue; ">key</span>&nbsp;<span style="color: blue; ">clustered</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: maroon; ">[id]</span><span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: black; font-style: italic; ">[money]</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[status]</span>&nbsp;<span style="color: black; font-style: italic; ">[sysname]</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[due]</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[phone]</span>&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[nvarchar]</span><span style="color: maroon; ">(</span><span style="color: black; ">128</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: maroon; ">)</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">alter</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span>
								<br/>&nbsp;&nbsp;<span style="color: blue; ">add</span>&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_without_constraints.added.default]</span>&nbsp;<span style="color: blue; ">default</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">for</span>&nbsp;<span style="color: maroon; ">[added]</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: blue; ">insert</span>&nbsp;<span style="color: blue; ">into</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: maroon; ">[amount]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[status]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[phone]</span><span style="color: maroon; ">)</span>
								<br/><span style="color: blue; ">values</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: blue; ">null</span><span style="color: silver; ">,</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span><span style="color: blue; ">null</span><span style="color: silver; ">,</span><span style="color: blue; ">null</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">12</span><span style="color: silver; ">,</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20140101'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">30</span><span style="color: silver; ">,</span><span style="color: red; ">N'late'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20140103'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">563</span><span style="color: silver; ">,</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150201'</span><span style="color: silver; ">,</span><span style="color: red; ">N'(215)&nbsp;555-1212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">22</span><span style="color: silver; ">,</span><span style="color: red; ">N'coerced'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150101'</span><span style="color: silver; ">,</span><span style="color: red; ">N'215.555.1212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">375</span><span style="color: silver; ">,</span><span style="color: red; ">N'planned'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150201'</span><span style="color: silver; ">,</span><span style="color: red; ">N'(215)&nbsp;555-1212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&nbsp;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: blue; ">select</span>&nbsp;<span style="color: maroon; ">[id]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[id]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: silver; ">&lt;</span>&nbsp;<span style="color: black; ">25</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; ">0</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">lower</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[status]</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">in</span>&nbsp;<span style="color: maroon; ">(</span>&nbsp;<span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'late'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'coerced'</span>&nbsp;<span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">dateadd</span><span style="color: maroon; ">(</span><span style="color: maroon; ">dd</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">30</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: blue; ">current_timestamp</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'late'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'on_time'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">dateadd</span><span style="color: maroon; ">(</span><span style="color: maroon; ">dd</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">30</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[due]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">replace</span><span style="color: maroon; ">(</span><span style="color: fuchsia; font-style: italic; ">replace</span><span style="color: maroon; ">(</span><span style="color: fuchsia; font-style: italic; ">replace</span><span style="color: maroon; ">(</span><span style="color: fuchsia; font-style: italic; ">replace</span><span style="color: maroon; ">(</span><span style="color: fuchsia; font-style: italic; ">replace</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[phone]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'.'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N''</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N')'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N''</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'('</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N''</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'&nbsp;'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N''</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'-'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N''</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[phone]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[added]</span>
								<br/><span style="color: blue; ">from</span>&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[chamomile]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span>
								<br/><span style="color: blue; ">where</span>&nbsp;&nbsp;<span style="color: maroon; ">[due]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">cast</span><span style="color: maroon; ">(</span><span style="color: red; ">N'20130101'</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span><span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">and</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: black; ">25</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: green; font-style: italic; ">/*&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;clean&nbsp;-&nbsp;preferred&nbsp;method&nbsp;
								<br/>&nbsp;&nbsp;1.&nbsp;fix&nbsp;the&nbsp;table&nbsp;-&nbsp;add&nbsp;proper&nbsp;constraints&nbsp;to&nbsp;restrict&nbsp;the&nbsp;data.&nbsp;
								<br/>&nbsp;&nbsp;2.&nbsp;build&nbsp;in&nbsp;calculated&nbsp;fields&nbsp;for&nbsp;routine&nbsp;operations.&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;results&nbsp;in&nbsp;the&nbsp;simplest&nbsp;possible&nbsp;query&nbsp;
								<br/>&nbsp;&nbsp;9&nbsp;lines&nbsp;required&nbsp;to&nbsp;select&nbsp;the&nbsp;data&nbsp;
								<br/>&nbsp;&nbsp;business&nbsp;logic&nbsp;is&nbsp;clearly&nbsp;exposed,&nbsp;although&nbsp;table&nbsp;constraints&nbsp;are&nbsp;not&nbsp;considered&nbsp;'business&nbsp;logic'&nbsp;in&nbsp;this&nbsp;scenario.&nbsp;
								<br/>*/</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: blue; ">if</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">object_id</span><span style="color: maroon; ">(</span><span style="color: red; ">N'[presentation].[test_with_constraints]'</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">is</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: blue; ">drop</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_with_constraints]</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">create</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_with_constraints]</span>&nbsp;<span style="color: maroon; ">(</span>
								<br/>&nbsp;&nbsp;<span style="color: maroon; ">[id]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[int]</span>&nbsp;<span style="color: blue; ">identity</span><span style="color: maroon; ">(</span><span style="color: black; ">1</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">1</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_with_constraints.id.primary_key.clustered]</span>&nbsp;<span style="color: blue; ">primary</span>&nbsp;<span style="color: blue; ">key</span>&nbsp;<span style="color: blue; ">clustered</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: maroon; ">[id]</span><span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: black; font-style: italic; ">[money]</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount_floor]</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: silver; ">&lt;</span>&nbsp;<span style="color: black; ">25</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; ">0</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[status]</span>&nbsp;<span style="color: black; font-style: italic; ">[sysname]</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_with_constraints.type.check]</span>&nbsp;<span style="color: blue; ">check</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: fuchsia; font-style: italic; ">lower</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[status]</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">in</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'late'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'coerced'</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[status_test]</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">dateadd</span><span style="color: maroon; ">(</span><span style="color: maroon; ">dd</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">30</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: blue; ">current_timestamp</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'on_time'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'late'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[due]</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[phone]</span>&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[nvarchar]</span><span style="color: maroon; ">(</span><span style="color: black; ">128</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">null</span>&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_with_constraints.phone.check]</span>&nbsp;<span style="color: blue; ">check</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: #FF0080; font-weight: bold; ">isnumeric</span><span style="color: maroon; ">(</span><span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[phone]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">0</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span><span style="color: silver; ">=</span><span style="color: black; ">1</span><span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>&nbsp;&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">null</span>
								<br/>&nbsp;&nbsp;<span style="color: maroon; ">)</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">alter</span>&nbsp;<span style="color: blue; ">table</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_with_constraints]</span>
								<br/>&nbsp;&nbsp;<span style="color: blue; ">add</span>&nbsp;<span style="color: blue; ">constraint</span>&nbsp;<span style="color: maroon; ">[presentation.test_with_constraints.added.default]</span>&nbsp;<span style="color: blue; ">default</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">for</span>&nbsp;<span style="color: maroon; ">[added]</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: blue; ">insert</span>&nbsp;<span style="color: blue; ">into</span>&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_with_constraints]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: maroon; ">[amount]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[status]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span><span style="color: maroon; ">[phone]</span><span style="color: maroon; ">)</span>
								<br/><span style="color: blue; ">values</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: blue; ">null</span><span style="color: silver; ">,</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span><span style="color: blue; ">null</span><span style="color: silver; ">,</span><span style="color: blue; ">null</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">12</span><span style="color: silver; ">,</span><span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20140101'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">30</span><span style="color: silver; ">,</span><span style="color: red; ">N'late'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20130201'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">563</span><span style="color: silver; ">,</span><span style="color: red; ">N'late'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150201'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">22</span><span style="color: silver; ">,</span><span style="color: red; ">N'coerced'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150101'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">,</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">(</span><span style="color: black; ">375</span><span style="color: silver; ">,</span><span style="color: red; ">N'late'</span><span style="color: silver; ">,</span><span style="color: red; ">N'20150201'</span><span style="color: silver; ">,</span><span style="color: red; ">N'2155551212'</span><span style="color: maroon; ">)</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&nbsp;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: blue; ">declare</span>&nbsp;<span style="color: #8000FF; ">@due</span>&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: silver; ">=</span>&nbsp;<span style="color: red; ">N'20130101'</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">select</span>&nbsp;<span style="color: maroon; ">[id]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[status_test]</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[due]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[phone]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>
								<br/><span style="color: blue; ">from</span>&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_with_constraints]</span>
								<br/><span style="color: blue; ">where</span>&nbsp;&nbsp;<span style="color: maroon; ">[due]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: #8000FF; ">@due</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">and</span>&nbsp;<span style="color: maroon; ">[amount_floor]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: black; ">0</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>
								<br/><span style="color: green; font-style: italic; ">/*&nbsp;
								<br/>&nbsp;&nbsp;clean&nbsp;-&nbsp;second&nbsp;best&nbsp;method&nbsp;
								<br/>&nbsp;&nbsp;1.&nbsp;use&nbsp;a&nbsp;cte&nbsp;to&nbsp;scrub&nbsp;the&nbsp;data.&nbsp;
								<br/>&nbsp;&nbsp;2.&nbsp;use&nbsp;utility&nbsp;functions&nbsp;to&nbsp;perform&nbsp;repetitive&nbsp;and&nbsp;complex&nbsp;operations.&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;results&nbsp;in&nbsp;a&nbsp;simpler&nbsp;query,&nbsp;with&nbsp;data&nbsp;scrubbing&nbsp;clearly&nbsp;separated&nbsp;from&nbsp;business&nbsp;logic.&nbsp;
								<br/>&nbsp;&nbsp;&nbsp;
								<br/>&nbsp;&nbsp;37&nbsp;lines&nbsp;required&nbsp;to&nbsp;select&nbsp;the&nbsp;data&nbsp;
								<br/>&nbsp;&nbsp;9&nbsp;lines&nbsp;required&nbsp;to&nbsp;state&nbsp;the&nbsp;business&nbsp;logic&nbsp;
								<br/>&nbsp;&nbsp;28&nbsp;lines&nbsp;required&nbsp;to&nbsp;scrub&nbsp;the&nbsp;data&nbsp;
								<br/>*/</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: green; font-style: italic; ">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&nbsp;</span>
								<br/><span style="color: blue; ">declare</span>&nbsp;<span style="color: #8000FF; ">@due</span>&nbsp;<span style="color: black; font-style: italic; ">[datetime]</span>&nbsp;<span style="color: silver; ">=</span>&nbsp;<span style="color: red; ">N'20130101'</span><span style="color: silver; ">;</span>
								<br/><span style="color: blue; ">with</span>&nbsp;<span style="color: maroon; ">[data_scrubber]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">(</span><span style="color: blue; ">select</span>&nbsp;<span style="color: maroon; ">[id]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">lower</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[status]</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">not</span>&nbsp;<span style="color: blue; ">in</span>&nbsp;<span style="color: maroon; ">(</span>&nbsp;<span style="color: red; ">N'on_time'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'late'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'coerced'</span>&nbsp;<span style="color: maroon; ">)</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">case</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">when</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">dateadd</span><span style="color: maroon; ">(</span><span style="color: maroon; ">dd</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">30</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: blue; ">current_timestamp</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">then</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'late'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red; ">N'on_time'</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">else</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">end</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: #FF0080; font-weight: bold; ">isnull</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[due]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: fuchsia; font-style: italic; ">dateadd</span><span style="color: maroon; ">(</span><span style="color: maroon; ">dd</span><span style="color: silver; ">,</span>&nbsp;<span style="color: black; ">30</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">current_timestamp</span><span style="color: maroon; ">)</span><span style="color: maroon; ">)</span>&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[due]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[utility]</span><span style="color: silver; ">.</span><span style="color: #FF0080; font-weight: bold; ">[strip]</span><span style="color: maroon; ">(</span><span style="color: maroon; ">[phone]</span><span style="color: silver; ">,</span>&nbsp;<span style="color: red; ">N'0-9'</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">null</span><span style="color: silver; ">,</span>&nbsp;<span style="color: blue; ">null</span><span style="color: maroon; ">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">as</span>&nbsp;<span style="color: maroon; ">[phone]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">from</span>&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[presentation]</span><span style="color: silver; ">.</span><span style="color: maroon; ">[test_without_constraints]</span><span style="color: maroon; ">)</span>
								<br/><span style="color: blue; ">select</span>&nbsp;<span style="color: maroon; ">[id]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[amount]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[status]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[due]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[phone]</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver; ">,</span>&nbsp;<span style="color: maroon; ">[added]</span>
								<br/><span style="color: blue; ">from</span>&nbsp;&nbsp;&nbsp;<span style="color: maroon; ">[data_scrubber]</span>
								<br/><span style="color: blue; ">where</span>&nbsp;&nbsp;<span style="color: maroon; ">[due]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: #8000FF; ">@due</span>
								<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue; ">and</span>&nbsp;<span style="color: maroon; ">[amount]</span>&nbsp;<span style="color: silver; ">&gt;</span>&nbsp;<span style="color: black; ">25</span><span style="color: silver; ">;</span>
								<br/><span style="color: maroon; ">go</span>&nbsp;
								</span>
							</div>
						</td>
					</tr>
				</table>
				<table style="border-collapse: collapse; margin:0 auto; width:100%; margin-top:-25px;" >
					<tr>
						<td style="padding-left:25px; padding-right:25px;">
							<table class="header">
								<tr>
									<td > 
										<iframe src="./footer.html" style="border-collapse: collapse; width:100%; overflow:hidden;  border:0;" height="200" ></iframe>
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
	</body>
</html>